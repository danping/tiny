#include "furry/common/color_map.h"

namespace furry {

ColorMap::Color::Color(unsigned char r_, unsigned char g_, unsigned char b_) :
    r(r_), g(g_), b(b_) {
}

ColorMap::Color::Color() : r(0), g(0), b(0) {
}

cv::Scalar ColorMap::cvscalar(double index) const {
  auto c = color(index);
  return cv::Scalar(c.b, c.g, c.r);
}

cv::Vec3b ColorMap::cvvec3b(double index) const {
  auto c = color(index);
  return cv::Vec3b(c.b, c.g, c.r);
}

cv::Mat ColorMap::DrawMap(const cv::Mat &index_mat, int sidebar_width) const {
  assert(index_mat.channels() == 1 &&
         (index_mat.type() == CV_8U ||
          index_mat.type() == CV_32F ||
          index_mat.type() == CV_64F));
  double min_value, max_value;
  cv::minMaxLoc(index_mat, &min_value, &max_value);
  int cols = index_mat.cols;
  int rows = index_mat.rows;
  cv::Mat cm(rows, cols + sidebar_width, CV_8UC3);
  switch (index_mat.type()) {
    case CV_8U:
      AssignMap<unsigned char>(index_mat, max_value, min_value, &cm);
      break;
    case CV_32F:
      AssignMap<float>(index_mat, max_value, min_value, &cm);
      break;
    case CV_64F:
      AssignMap<double>(index_mat, max_value, min_value, &cm);
      break;
    default:
      break;
  }
  for (int r = 0; r < rows; ++r) {
    auto color = cvvec3b((rows - r) / (double)rows);
    for (int c = cols; c < cm.cols; ++c) {
      cm.at<cv::Vec3b>(r, c) = color;
    }
  }
  return cm;
}

const ColorMap::Color DivergingColorMap::colors_[257] = {
	ColorMap::Color({59,76,192}),
        ColorMap::Color({60,78,194}),
        ColorMap::Color({61,80,195}),
        ColorMap::Color({62,81,197}),
        ColorMap::Color({63,83,198}),
        ColorMap::Color({64,85,200}),
        ColorMap::Color({66,87,201}),
        ColorMap::Color({67,88,203}),
        ColorMap::Color({68,90,204}),
        ColorMap::Color({69,92,206}),
        ColorMap::Color({70,93,207}),
        ColorMap::Color({71,95,209}),
        ColorMap::Color({73,97,210}),
        ColorMap::Color({74,99,211}),
        ColorMap::Color({75,100,213}),
        ColorMap::Color({76,102,214}),
        ColorMap::Color({77,104,215}),
        ColorMap::Color({79,105,217}),
        ColorMap::Color({80,107,218}),
        ColorMap::Color({81,109,219}),
        ColorMap::Color({82,110,221}),
        ColorMap::Color({84,112,222}),
        ColorMap::Color({85,114,223}),
        ColorMap::Color({86,115,224}),
        ColorMap::Color({87,117,225}),
        ColorMap::Color({89,119,226}),
        ColorMap::Color({90,120,228}),
        ColorMap::Color({91,122,229}),
        ColorMap::Color({93,123,230}),
        ColorMap::Color({94,125,231}),
        ColorMap::Color({95,127,232}),
        ColorMap::Color({96,128,233}),
        ColorMap::Color({98,130,234}),
        ColorMap::Color({99,131,235}),
        ColorMap::Color({100,133,236}),
        ColorMap::Color({102,135,237}),
        ColorMap::Color({103,136,238}),
        ColorMap::Color({104,138,239}),
        ColorMap::Color({106,139,239}),
        ColorMap::Color({107,141,240}),
        ColorMap::Color({108,142,241}),
        ColorMap::Color({110,144,242}),
        ColorMap::Color({111,145,243}),
        ColorMap::Color({112,147,243}),
        ColorMap::Color({114,148,244}),
        ColorMap::Color({115,150,245}),
        ColorMap::Color({116,151,246}),
        ColorMap::Color({118,153,246}),
        ColorMap::Color({119,154,247}),
        ColorMap::Color({120,156,247}),
        ColorMap::Color({122,157,248}),
        ColorMap::Color({123,158,249}),
        ColorMap::Color({124,160,249}),
        ColorMap::Color({126,161,250}),
        ColorMap::Color({127,163,250}),
        ColorMap::Color({129,164,251}),
        ColorMap::Color({130,165,251}),
        ColorMap::Color({131,167,252}),
        ColorMap::Color({133,168,252}),
        ColorMap::Color({134,169,252}),
        ColorMap::Color({135,171,253}),
        ColorMap::Color({137,172,253}),
        ColorMap::Color({138,173,253}),
        ColorMap::Color({140,174,254}),
        ColorMap::Color({141,176,254}),
        ColorMap::Color({142,177,254}),
        ColorMap::Color({144,178,254}),
        ColorMap::Color({145,179,254}),
        ColorMap::Color({147,181,255}),
        ColorMap::Color({148,182,255}),
        ColorMap::Color({149,183,255}),
        ColorMap::Color({151,184,255}),
        ColorMap::Color({152,185,255}),
        ColorMap::Color({153,186,255}),
        ColorMap::Color({155,187,255}),
        ColorMap::Color({156,188,255}),
        ColorMap::Color({158,190,255}),
        ColorMap::Color({159,191,255}),
        ColorMap::Color({160,192,255}),
        ColorMap::Color({162,193,255}),
        ColorMap::Color({163,194,255}),
        ColorMap::Color({164,195,254}),
        ColorMap::Color({166,196,254}),
        ColorMap::Color({167,197,254}),
        ColorMap::Color({168,198,254}),
        ColorMap::Color({170,199,253}),
        ColorMap::Color({171,199,253}),
        ColorMap::Color({172,200,253}),
        ColorMap::Color({174,201,253}),
        ColorMap::Color({175,202,252}),
        ColorMap::Color({176,203,252}),
        ColorMap::Color({178,204,251}),
        ColorMap::Color({179,205,251}),
        ColorMap::Color({180,205,251}),
        ColorMap::Color({182,206,250}),
        ColorMap::Color({183,207,250}),
        ColorMap::Color({184,208,249}),
        ColorMap::Color({185,208,248}),
        ColorMap::Color({187,209,248}),
        ColorMap::Color({188,210,247}),
        ColorMap::Color({189,210,247}),
        ColorMap::Color({190,211,246}),
        ColorMap::Color({192,212,245}),
        ColorMap::Color({193,212,245}),
        ColorMap::Color({194,213,244}),
        ColorMap::Color({195,213,243}),
        ColorMap::Color({197,214,243}),
        ColorMap::Color({198,214,242}),
        ColorMap::Color({199,215,241}),
        ColorMap::Color({200,215,240}),
        ColorMap::Color({201,216,239}),
        ColorMap::Color({203,216,238}),
        ColorMap::Color({204,217,238}),
        ColorMap::Color({205,217,237}),
        ColorMap::Color({206,217,236}),
        ColorMap::Color({207,218,235}),
        ColorMap::Color({208,218,234}),
        ColorMap::Color({209,219,233}),
        ColorMap::Color({210,219,232}),
        ColorMap::Color({211,219,231}),
        ColorMap::Color({213,219,230}),
        ColorMap::Color({214,220,229}),
        ColorMap::Color({215,220,228}),
        ColorMap::Color({216,220,227}),
        ColorMap::Color({217,220,225}),
        ColorMap::Color({218,220,224}),
        ColorMap::Color({219,220,223}),
        ColorMap::Color({220,221,222}),
        ColorMap::Color({221,221,221}),
        ColorMap::Color({222,220,219}),
        ColorMap::Color({223,220,218}),
        ColorMap::Color({224,219,216}),
        ColorMap::Color({225,219,215}),
        ColorMap::Color({226,218,214}),
        ColorMap::Color({227,218,212}),
        ColorMap::Color({228,217,211}),
        ColorMap::Color({229,216,209}),
        ColorMap::Color({230,216,208}),
        ColorMap::Color({231,215,206}),
        ColorMap::Color({232,215,205}),
        ColorMap::Color({232,214,203}),
        ColorMap::Color({233,213,202}),
        ColorMap::Color({234,212,200}),
        ColorMap::Color({235,212,199}),
        ColorMap::Color({236,211,197}),
        ColorMap::Color({236,210,196}),
        ColorMap::Color({237,209,194}),
        ColorMap::Color({238,209,193}),
        ColorMap::Color({238,208,191}),
        ColorMap::Color({239,207,190}),
        ColorMap::Color({240,206,188}),
        ColorMap::Color({240,205,187}),
        ColorMap::Color({241,204,185}),
        ColorMap::Color({241,203,184}),
        ColorMap::Color({242,202,182}),
        ColorMap::Color({242,201,181}),
        ColorMap::Color({243,200,179}),
        ColorMap::Color({243,199,178}),
        ColorMap::Color({244,198,176}),
        ColorMap::Color({244,197,174}),
        ColorMap::Color({245,196,173}),
        ColorMap::Color({245,195,171}),
        ColorMap::Color({245,194,170}),
        ColorMap::Color({245,193,168}),
        ColorMap::Color({246,192,167}),
        ColorMap::Color({246,191,165}),
        ColorMap::Color({246,190,163}),
        ColorMap::Color({246,188,162}),
        ColorMap::Color({247,187,160}),
        ColorMap::Color({247,186,159}),
        ColorMap::Color({247,185,157}),
        ColorMap::Color({247,184,156}),
        ColorMap::Color({247,182,154}),
        ColorMap::Color({247,181,152}),
        ColorMap::Color({247,180,151}),
        ColorMap::Color({247,178,149}),
        ColorMap::Color({247,177,148}),
        ColorMap::Color({247,176,146}),
        ColorMap::Color({247,174,145}),
        ColorMap::Color({247,173,143}),
        ColorMap::Color({247,172,141}),
        ColorMap::Color({247,170,140}),
        ColorMap::Color({247,169,138}),
        ColorMap::Color({247,167,137}),
        ColorMap::Color({247,166,135}),
        ColorMap::Color({246,164,134}),
        ColorMap::Color({246,163,132}),
        ColorMap::Color({246,161,131}),
        ColorMap::Color({246,160,129}),
        ColorMap::Color({245,158,127}),
        ColorMap::Color({245,157,126}),
        ColorMap::Color({245,155,124}),
        ColorMap::Color({244,154,123}),
        ColorMap::Color({244,152,121}),
        ColorMap::Color({244,151,120}),
        ColorMap::Color({243,149,118}),
        ColorMap::Color({243,147,117}),
        ColorMap::Color({242,146,115}),
        ColorMap::Color({242,144,114}),
        ColorMap::Color({241,142,112}),
        ColorMap::Color({241,141,111}),
        ColorMap::Color({240,139,109}),
        ColorMap::Color({240,137,108}),
        ColorMap::Color({239,136,106}),
        ColorMap::Color({238,134,105}),
        ColorMap::Color({238,132,103}),
        ColorMap::Color({237,130,102}),
        ColorMap::Color({236,129,100}),
        ColorMap::Color({236,127,99}),
        ColorMap::Color({235,125,97}),
        ColorMap::Color({234,123,96}),
        ColorMap::Color({233,121,95}),
        ColorMap::Color({233,120,93}),
        ColorMap::Color({232,118,92}),
        ColorMap::Color({231,116,90}),
        ColorMap::Color({230,114,89}),
        ColorMap::Color({229,112,88}),
        ColorMap::Color({228,110,86}),
        ColorMap::Color({227,108,85}),
        ColorMap::Color({227,106,83}),
        ColorMap::Color({226,104,82}),
        ColorMap::Color({225,102,81}),
        ColorMap::Color({224,100,79}),
        ColorMap::Color({223,98,78}),
        ColorMap::Color({222,96,77}),
        ColorMap::Color({221,94,75}),
        ColorMap::Color({220,92,74}),
        ColorMap::Color({218,90,73}),
        ColorMap::Color({217,88,71}),
        ColorMap::Color({216,86,70}),
        ColorMap::Color({215,84,69}),
        ColorMap::Color({214,82,67}),
        ColorMap::Color({213,80,66}),
        ColorMap::Color({212,78,65}),
        ColorMap::Color({210,75,64}),
        ColorMap::Color({209,73,62}),
        ColorMap::Color({208,71,61}),
        ColorMap::Color({207,69,60}),
        ColorMap::Color({205,66,59}),
        ColorMap::Color({204,64,57}),
        ColorMap::Color({203,62,56}),
        ColorMap::Color({202,59,55}),
        ColorMap::Color({200,57,54}),
        ColorMap::Color({199,54,53}),
        ColorMap::Color({198,51,52}),
        ColorMap::Color({196,49,50}),
        ColorMap::Color({195,46,49}),
        ColorMap::Color({193,43,48}),
        ColorMap::Color({192,40,47}),
        ColorMap::Color({190,37,46}),
        ColorMap::Color({189,34,45}),
        ColorMap::Color({188,30,44}),
        ColorMap::Color({186,26,43}),
        ColorMap::Color({185,22,41}),
        ColorMap::Color({183,17,40}),
        ColorMap::Color({181,11,39}),
        ColorMap::Color({180,4,38})};



// 
// DivergingColorMap::DivergingColorMap() :
//     colors_({
// 	ColorMap::Color({59,76,192}),
//         ColorMap::Color({60,78,194}),
//         ColorMap::Color({61,80,195}),
//         ColorMap::Color({62,81,197}),
//         ColorMap::Color({63,83,198}),
//         ColorMap::Color({64,85,200}),
//         ColorMap::Color({66,87,201}),
//         ColorMap::Color({67,88,203}),
//         ColorMap::Color({68,90,204}),
//         ColorMap::Color({69,92,206}),
//         ColorMap::Color({70,93,207}),
//         ColorMap::Color({71,95,209}),
//         ColorMap::Color({73,97,210}),
//         ColorMap::Color({74,99,211}),
//         ColorMap::Color({75,100,213}),
//         ColorMap::Color({76,102,214}),
//         ColorMap::Color({77,104,215}),
//         ColorMap::Color({79,105,217}),
//         ColorMap::Color({80,107,218}),
//         ColorMap::Color({81,109,219}),
//         ColorMap::Color({82,110,221}),
//         ColorMap::Color({84,112,222}),
//         ColorMap::Color({85,114,223}),
//         ColorMap::Color({86,115,224}),
//         ColorMap::Color({87,117,225}),
//         ColorMap::Color({89,119,226}),
//         ColorMap::Color({90,120,228}),
//         ColorMap::Color({91,122,229}),
//         ColorMap::Color({93,123,230}),
//         ColorMap::Color({94,125,231}),
//         ColorMap::Color({95,127,232}),
//         ColorMap::Color({96,128,233}),
//         ColorMap::Color({98,130,234}),
//         ColorMap::Color({99,131,235}),
//         ColorMap::Color({100,133,236}),
//         ColorMap::Color({102,135,237}),
//         ColorMap::Color({103,136,238}),
//         ColorMap::Color({104,138,239}),
//         ColorMap::Color({106,139,239}),
//         ColorMap::Color({107,141,240}),
//         ColorMap::Color({108,142,241}),
//         ColorMap::Color({110,144,242}),
//         ColorMap::Color({111,145,243}),
//         ColorMap::Color({112,147,243}),
//         ColorMap::Color({114,148,244}),
//         ColorMap::Color({115,150,245}),
//         ColorMap::Color({116,151,246}),
//         ColorMap::Color({118,153,246}),
//         ColorMap::Color({119,154,247}),
//         ColorMap::Color({120,156,247}),
//         ColorMap::Color({122,157,248}),
//         ColorMap::Color({123,158,249}),
//         ColorMap::Color({124,160,249}),
//         ColorMap::Color({126,161,250}),
//         ColorMap::Color({127,163,250}),
//         ColorMap::Color({129,164,251}),
//         ColorMap::Color({130,165,251}),
//         ColorMap::Color({131,167,252}),
//         ColorMap::Color({133,168,252}),
//         ColorMap::Color({134,169,252}),
//         ColorMap::Color({135,171,253}),
//         ColorMap::Color({137,172,253}),
//         ColorMap::Color({138,173,253}),
//         ColorMap::Color({140,174,254}),
//         ColorMap::Color({141,176,254}),
//         ColorMap::Color({142,177,254}),
//         ColorMap::Color({144,178,254}),
//         ColorMap::Color({145,179,254}),
//         ColorMap::Color({147,181,255}),
//         ColorMap::Color({148,182,255}),
//         ColorMap::Color({149,183,255}),
//         ColorMap::Color({151,184,255}),
//         ColorMap::Color({152,185,255}),
//         ColorMap::Color({153,186,255}),
//         ColorMap::Color({155,187,255}),
//         ColorMap::Color({156,188,255}),
//         ColorMap::Color({158,190,255}),
//         ColorMap::Color({159,191,255}),
//         ColorMap::Color({160,192,255}),
//         ColorMap::Color({162,193,255}),
//         ColorMap::Color({163,194,255}),
//         ColorMap::Color({164,195,254}),
//         ColorMap::Color({166,196,254}),
//         ColorMap::Color({167,197,254}),
//         ColorMap::Color({168,198,254}),
//         ColorMap::Color({170,199,253}),
//         ColorMap::Color({171,199,253}),
//         ColorMap::Color({172,200,253}),
//         ColorMap::Color({174,201,253}),
//         ColorMap::Color({175,202,252}),
//         ColorMap::Color({176,203,252}),
//         ColorMap::Color({178,204,251}),
//         ColorMap::Color({179,205,251}),
//         ColorMap::Color({180,205,251}),
//         ColorMap::Color({182,206,250}),
//         ColorMap::Color({183,207,250}),
//         ColorMap::Color({184,208,249}),
//         ColorMap::Color({185,208,248}),
//         ColorMap::Color({187,209,248}),
//         ColorMap::Color({188,210,247}),
//         ColorMap::Color({189,210,247}),
//         ColorMap::Color({190,211,246}),
//         ColorMap::Color({192,212,245}),
//         ColorMap::Color({193,212,245}),
//         ColorMap::Color({194,213,244}),
//         ColorMap::Color({195,213,243}),
//         ColorMap::Color({197,214,243}),
//         ColorMap::Color({198,214,242}),
//         ColorMap::Color({199,215,241}),
//         ColorMap::Color({200,215,240}),
//         ColorMap::Color({201,216,239}),
//         ColorMap::Color({203,216,238}),
//         ColorMap::Color({204,217,238}),
//         ColorMap::Color({205,217,237}),
//         ColorMap::Color({206,217,236}),
//         ColorMap::Color({207,218,235}),
//         ColorMap::Color({208,218,234}),
//         ColorMap::Color({209,219,233}),
//         ColorMap::Color({210,219,232}),
//         ColorMap::Color({211,219,231}),
//         ColorMap::Color({213,219,230}),
//         ColorMap::Color({214,220,229}),
//         ColorMap::Color({215,220,228}),
//         ColorMap::Color({216,220,227}),
//         ColorMap::Color({217,220,225}),
//         ColorMap::Color({218,220,224}),
//         ColorMap::Color({219,220,223}),
//         ColorMap::Color({220,221,222}),
//         ColorMap::Color({221,221,221}),
//         ColorMap::Color({222,220,219}),
//         ColorMap::Color({223,220,218}),
//         ColorMap::Color({224,219,216}),
//         ColorMap::Color({225,219,215}),
//         ColorMap::Color({226,218,214}),
//         ColorMap::Color({227,218,212}),
//         ColorMap::Color({228,217,211}),
//         ColorMap::Color({229,216,209}),
//         ColorMap::Color({230,216,208}),
//         ColorMap::Color({231,215,206}),
//         ColorMap::Color({232,215,205}),
//         ColorMap::Color({232,214,203}),
//         ColorMap::Color({233,213,202}),
//         ColorMap::Color({234,212,200}),
//         ColorMap::Color({235,212,199}),
//         ColorMap::Color({236,211,197}),
//         ColorMap::Color({236,210,196}),
//         ColorMap::Color({237,209,194}),
//         ColorMap::Color({238,209,193}),
//         ColorMap::Color({238,208,191}),
//         ColorMap::Color({239,207,190}),
//         ColorMap::Color({240,206,188}),
//         ColorMap::Color({240,205,187}),
//         ColorMap::Color({241,204,185}),
//         ColorMap::Color({241,203,184}),
//         ColorMap::Color({242,202,182}),
//         ColorMap::Color({242,201,181}),
//         ColorMap::Color({243,200,179}),
//         ColorMap::Color({243,199,178}),
//         ColorMap::Color({244,198,176}),
//         ColorMap::Color({244,197,174}),
//         ColorMap::Color({245,196,173}),
//         ColorMap::Color({245,195,171}),
//         ColorMap::Color({245,194,170}),
//         ColorMap::Color({245,193,168}),
//         ColorMap::Color({246,192,167}),
//         ColorMap::Color({246,191,165}),
//         ColorMap::Color({246,190,163}),
//         ColorMap::Color({246,188,162}),
//         ColorMap::Color({247,187,160}),
//         ColorMap::Color({247,186,159}),
//         ColorMap::Color({247,185,157}),
//         ColorMap::Color({247,184,156}),
//         ColorMap::Color({247,182,154}),
//         ColorMap::Color({247,181,152}),
//         ColorMap::Color({247,180,151}),
//         ColorMap::Color({247,178,149}),
//         ColorMap::Color({247,177,148}),
//         ColorMap::Color({247,176,146}),
//         ColorMap::Color({247,174,145}),
//         ColorMap::Color({247,173,143}),
//         ColorMap::Color({247,172,141}),
//         ColorMap::Color({247,170,140}),
//         ColorMap::Color({247,169,138}),
//         ColorMap::Color({247,167,137}),
//         ColorMap::Color({247,166,135}),
//         ColorMap::Color({246,164,134}),
//         ColorMap::Color({246,163,132}),
//         ColorMap::Color({246,161,131}),
//         ColorMap::Color({246,160,129}),
//         ColorMap::Color({245,158,127}),
//         ColorMap::Color({245,157,126}),
//         ColorMap::Color({245,155,124}),
//         ColorMap::Color({244,154,123}),
//         ColorMap::Color({244,152,121}),
//         ColorMap::Color({244,151,120}),
//         ColorMap::Color({243,149,118}),
//         ColorMap::Color({243,147,117}),
//         ColorMap::Color({242,146,115}),
//         ColorMap::Color({242,144,114}),
//         ColorMap::Color({241,142,112}),
//         ColorMap::Color({241,141,111}),
//         ColorMap::Color({240,139,109}),
//         ColorMap::Color({240,137,108}),
//         ColorMap::Color({239,136,106}),
//         ColorMap::Color({238,134,105}),
//         ColorMap::Color({238,132,103}),
//         ColorMap::Color({237,130,102}),
//         ColorMap::Color({236,129,100}),
//         ColorMap::Color({236,127,99}),
//         ColorMap::Color({235,125,97}),
//         ColorMap::Color({234,123,96}),
//         ColorMap::Color({233,121,95}),
//         ColorMap::Color({233,120,93}),
//         ColorMap::Color({232,118,92}),
//         ColorMap::Color({231,116,90}),
//         ColorMap::Color({230,114,89}),
//         ColorMap::Color({229,112,88}),
//         ColorMap::Color({228,110,86}),
//         ColorMap::Color({227,108,85}),
//         ColorMap::Color({227,106,83}),
//         ColorMap::Color({226,104,82}),
//         ColorMap::Color({225,102,81}),
//         ColorMap::Color({224,100,79}),
//         ColorMap::Color({223,98,78}),
//         ColorMap::Color({222,96,77}),
//         ColorMap::Color({221,94,75}),
//         ColorMap::Color({220,92,74}),
//         ColorMap::Color({218,90,73}),
//         ColorMap::Color({217,88,71}),
//         ColorMap::Color({216,86,70}),
//         ColorMap::Color({215,84,69}),
//         ColorMap::Color({214,82,67}),
//         ColorMap::Color({213,80,66}),
//         ColorMap::Color({212,78,65}),
//         ColorMap::Color({210,75,64}),
//         ColorMap::Color({209,73,62}),
//         ColorMap::Color({208,71,61}),
//         ColorMap::Color({207,69,60}),
//         ColorMap::Color({205,66,59}),
//         ColorMap::Color({204,64,57}),
//         ColorMap::Color({203,62,56}),
//         ColorMap::Color({202,59,55}),
//         ColorMap::Color({200,57,54}),
//         ColorMap::Color({199,54,53}),
//         ColorMap::Color({198,51,52}),
//         ColorMap::Color({196,49,50}),
//         ColorMap::Color({195,46,49}),
//         ColorMap::Color({193,43,48}),
//         ColorMap::Color({192,40,47}),
//         ColorMap::Color({190,37,46}),
//         ColorMap::Color({189,34,45}),
//         ColorMap::Color({188,30,44}),
//         ColorMap::Color({186,26,43}),
//         ColorMap::Color({185,22,41}),
//         ColorMap::Color({183,17,40}),
//         ColorMap::Color({181,11,39}),
//         ColorMap::Color({180,4,38})
// }) {
// }
// 
ColorMap::Color DivergingColorMap::color(double index) const {
  assert(0 <= index && index <= 1);
  return colors_[int(index * 256)];
}

} // furry
